# 짧은 개요

`edk2-sdm845`는 Snapdragon 845를 위한 커스텀 UEFI 환경을 제공하여 EL1에서 아무 fuOS를 부팅하는 것에 초점을 둔 프로젝트입니다.

README에서 말했듯이, 그건 끔찍하게 망가진 edk2 포팅입니다. 하지만 여전히 우리는 그것을 부트로더로만 사용하고 있습니다. 그리고 그것은 윈도우를 잘 부팅합니다.

아래에는 몇 개의 어떻게 모든 것이 작동하는지에 대한 간단한 설명이 있습니다.

## EDK2로 Fastboot하기

최근에 만들어진 Qualcomm 디바이스에는 xbl과 abl이라고 불리는 2개의 파티션이 있습니다.

`xbl` 은 QWualcomm 플랫폼에서의 UEFI 펌웨어입니다. 그것은 EFI 드라이버를 애플리케이션으로 갖고 있습니다. ( 예) Fastboot). LA 플랫폼에서는 만약 fastboot가 실행되지 않았다면 바로 abl을 로딩합니다.

`abl`은 Qualcomm LA 플랫폼에서만 찾을 수 있습니다. 그리고 그것은 CodeAurora에서 오픈소스입니다. 그것은 `LinuxLoader.efi`라고 불리는 EFI 애플리케이션을 갖고 있고 부팅 파티션에 있는 Linux 커널을 로딩하기 위해 사용됩니다. 

안타깝게도 xbl과 abl은 둘 다 리테일 디바이스에서 서명되어 있습니다. 저희는 그것들에 아무런 변화도 만들 수 없습니다. 따라서 순정 부트로더로 윈도우를 부팅하는 것은 불가능합니다.

저희가 여기서 하는 것은 UEFI 펌웨어를 리눅스*처럼* 보이게 하는 것입니다. 그것은 마법 헤더에 조각을 이미지 맨 위에 추가하여 완료됩니다. 그리고 거기에 디바이스 트리도 추가해야 합니다. 이 방법에선 abl이 제공된 이미지와 함께 행복해 할 것입니다.

## 메모리 맵핑하기

EDK2는 제대로 작동하기 위해서 메모리 맵이 필요합니다. xbl에서 `uefiplat.cfg`를 참조하여 시작할 수 있습니다. 만약 당신이 복붙만 하면 작동하지 않는다는 것을 기억해주세요. 또 추가 수습도 필요합니다.

## 디스플레이

xbl은 이미 디스플레이 하드웨어를 당신의 디바이스에서 추가했고 당신에게 좋은 프레임 버퍼를 줍니다. 그래서 저희는 여기서 SimpleFbDxe를 사용하여 모든 것을 간단하게 만듭니다.

## EFI 드라이버

전에 말했듯이 xbl은 UEFI에 기반되었습니다. 그래서 저희는 바이너리 EFI 드라이버를 거기서 추출해내고 저희의 새 펌웨어에 삽입할 수 있습니다. 이 방법에서는 많은 드라이버가 작동하지 않고 버튼, USB, PMIC같은 것이 작동하지 않습니다. 그것은 UFS가 놀랍게 작동하는 것만으로도 순전히 행운이고 저희가 저희의 여행을 계속할 수 있게 해 줍니다.

## 윈도우

Windows on Arm, 그냥 Windows on x86 platforms은 특정 ACPI tables의 묶음을 필요로 하고 부트로더에 의해 제공되는 것으로 추정됩니다. 요컨대, ACPI는 당신의 디바이스에서 hardware 요소들과 그들의 설정을 설명합니다.
ACPI 테이블을 아무 WoA 노트북 에서 추출하는 것은 *그냥* 작동하지 않습니다. Qualcomm 드라이버는 만약 ACPI와 당신의 하드웨어 간에 불일치가 있다면 혼란스러워하여 블루스크린을 일으킬 것입니다. :(
